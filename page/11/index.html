<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Hexo</title><meta name="author" content="Sakura Yumeno"><meta name="copyright" content="Sakura Yumeno"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://sakurayumeno.github.io/blog/page/11/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://sakurayumeno.github.io/blog/img/avatar.jpg">
<meta property="article:author" content="Sakura Yumeno">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://sakurayumeno.github.io/blog/img/avatar.jpg"><link rel="shortcut icon" href="/blog/img/favicon.png"><link rel="canonical" href="https://sakurayumeno.github.io/blog/page/11/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/blog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/blog/',
  algolia: undefined,
  localSearch: {"path":"/blog/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Hexo',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-06-06 23:59:31'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/blog/css/custom.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = 'hidden';
    document.getElementById('loading-box').classList.remove("loaded")
  }
}

preloader.initLoading()
window.addEventListener('load',()=> { preloader.endLoading() })

if (false) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/blog/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/blog/archives/"><div class="headline">文章</div><div class="length-num">133</div></a><a href="/blog/tags/"><div class="headline">标签</div><div class="length-num">71</div></a><a href="/blog/categories/"><div class="headline">分类</div><div class="length-num">33</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/blog/assets/html/"><i class="fa-fw fas fa-file-code"></i><span> HTML</span></a></li><li><a class="site-page child" href="/blog/assets/pdf/"><i class="fa-fw fas fa-file-pdf"></i><span> PDF</span></a></li><li><a class="site-page child" href="/blog/assets/script/"><i class="fa-fw fas fa-terminal"></i><span> Script</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-headphones"></i><span> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/blog/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/blog/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/blog/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/blog/img/background002.jpg')"><nav id="nav"><span id="blog-info"><a href="/blog/" title="Hexo"><span class="site-name">Hexo</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/blog/assets/html/"><i class="fa-fw fas fa-file-code"></i><span> HTML</span></a></li><li><a class="site-page child" href="/blog/assets/pdf/"><i class="fa-fw fas fa-file-pdf"></i><span> PDF</span></a></li><li><a class="site-page child" href="/blog/assets/script/"><i class="fa-fw fas fa-terminal"></i><span> Script</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-headphones"></i><span> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/blog/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/blog/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/blog/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Hexo</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/c6c09ea3.html" title="Migration Method Comparison">Migration Method Comparison</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-20T14:00:00.000Z" title="发表于 2023-05-20 22:00:00">2023-05-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Database/">Database</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/Migrate/">Migrate</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/migration/">migration</a></span></div><div class="content"> 数据库平台迁移，常用工具优缺点对比：



 方法 
 优点 
 缺点 



RMAN
 操作简单 
 不适用于不同字节序之间的平台迁移 


 数据泵 
 操作简单 
 数据量大时需要的停机时间很长 


OGG
 对源端目标端平台无要求 
 操作较复杂，维护成本高 


XTTS
 源端与目标端字节序可以不同，停机时间短 
 被移动的表空间不能包含 offline 的数据文件 


</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/787d9e55.html" title="Optimization">Optimization</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-20T14:00:00.000Z" title="发表于 2023-05-20 22:00:00">2023-05-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Database/">Database</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/Optimization/">Optimization</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/optimization/">optimization</a></span></div><div class="content">
what oracle waiting for ???
select * from 
 (select count(*), event, sql_id, program, inst_id
  from gv$active_session_history
  where sample_time > sysdate-5/1440
  group by event, sql_id, program, inst_id
  order by 1 desc)
where rownum &lt;= 20;

query execution plan
select plan_table_output from table(dbms_xplan.display_cursor('&amp;sql_id')); -- 已知 SQL_Id 的情况下 

explain plan for (SQL_TEXT); select * from table(dbms_xplan.display);

set autotrace on explain -- 显示值和执行计划 
set autotrace traceo ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/ce80a7f9.html" title="Active Database Duplication">Active Database Duplication</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-20T14:00:00.000Z" title="发表于 2023-05-20 22:00:00">2023-05-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Database/">Database</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/RMAN/">RMAN</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/duplication/">duplication</a></span></div><div class="content">
Creating a Password File for the Auxiliary Instance, When you create a standby database by using RMAN duplication, password files are always copied.

Add Net Services for primary and standby databases in the tnsnames.ora file.

Adding Static Service to Listener in the listener.ora file.

Create an Initialization Parameter File for the Auxiliary Instance.

Start the auxiliary instance in NOMOUNT mode.

Duplication database.
rman target sys/oracle@Matrix auxiliary sys/oracle@Matrix_DR0

run &#123 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/65ab7f54.html" title="Backup for Linux">Backup for Linux</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-20T14:00:00.000Z" title="发表于 2023-05-20 22:00:00">2023-05-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Database/">Database</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/RMAN/">RMAN</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/rman/">rman</a></span></div><div class="content">
 创建备份目录 
mkdir -p /rmanbackup/rmanlog
mkdir -p /rmanbackup/dbbak
mkdir -p /rmanbackup/scripts
mkdir -p /rmanbackup/week
mkdir -p /rmanbackup/day
chown -R oracle:oinstall /rmanbackup
chmod -R 755 /rmanbackup

 备份脚本 &#x2F;rmanbackup&#x2F;scripts&#x2F;rmanbackup.sh
#/bin/bash 
export ORACLE_BASE=/u01/app/oracle
export ORACLE_HOME=$ORACLE_BASE/product/11.2.0/db_1
export ORACLE_OWNER=oracle
export ORACLE_SID=nwppdb_1
export ORACLE_UNQNAME=nwppdb
export PATH=$ORACLE_HOME/bin:$ORACLE_HOME/OPatch:/usr/ ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/62d30125.html" title="Backup for Windows">Backup for Windows</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-20T14:00:00.000Z" title="发表于 2023-05-20 22:00:00">2023-05-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Database/">Database</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/RMAN/">RMAN</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/rman/">rman</a></span></div><div class="content">
full backup
REM 需要修改的变量值开始 
set ORACLE_SID=xpxyy
set BACKUP_PATH=E:\RMAN
set SYS_PASSWD=oracle
REM 修改变量结束 

REM 在服务器上保留 3 个备份的脚本 
if exist %BACKUP_PATH%\*.OLD del /F /Q %BACKUP_PATH%\*.001
if exist %BACKUP_PATH%\*.BAK rename %BACKUP_PATH%\*.OLD  *.001
if exist %BACKUP_PATH%\*.BAK rename %BACKUP_PATH%\*.BAK  *.OLD

REM 在服务器上保留 2 个备份的脚本 
REM  if exist %BACKUP_PATH%\*.BAK del /F /Q  %BACKUP_PATH%\*.OLD
REM  if exist %BACKUP_PATH%\*.BAK rename %BACKUP_PATH%\*.BAK  *.OLD

REM 在服务器上保留 1 个备份的脚本 
REM i ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/b39ef565.html" title="Delete ArchiveLog">Delete ArchiveLog</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-20T14:00:00.000Z" title="发表于 2023-05-20 22:00:00">2023-05-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Database/">Database</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/RMAN/">RMAN</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/archivelog/">archivelog</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/blog/tags/rman/">rman</a></span></div><div class="content">Delete ArchiveLogexport ORACLE_SID=coco
export ORACLE_BASE=/u01/app/oracle
export ORACLE_HOME=$ORACLE_BASE/product/11.2.0.4/db_1
$ORACLE_HOME/bin/rman log=/home/oracle/rmarch.log &lt;&lt; EOF
connect target /
run&#123;
crosscheck archivelog all;
delete noprompt expired archivelog all;
delete noprompt archivelog all completed before 'sysdate - 1';
&#125;
exit;
EOF</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/486a1663.html" title="Restore">Restore</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-20T14:00:00.000Z" title="发表于 2023-05-20 22:00:00">2023-05-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Database/">Database</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/RMAN/">RMAN</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/rman/">rman</a></span></div><div class="content">Restore parameter file
rman target / nocatalog

RUN &#123;
 ALLOCATE CHANNEL ch00 TYPE DISK;
 RESTORE SPFILE FROM '/BACKUP/SPFILE_01UUF10M_1_1.BAK' TO PFILE '/tmp/initTEMP.ora';
 RELEASE CHANNEL ch00;
&#125;

STARTUP FORCE PFILE='/tmp/initTEMP.ora';

Restore control file
rman target / nocatalog

startup nomount;
set dbid 320066378;

run &#123;
 allocate channel ch00 type disk;
 restore controlfile from '/backup/cntrl_46_1_730733685';
 release channel ch00;
&#125;

Restore database file
rman targ ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/4b6becc3.html" title="CRS-1714 Unable to discover any voting files">CRS-1714 Unable to discover any voting files</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-20T14:00:00.000Z" title="发表于 2023-05-20 22:00:00">2023-05-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Database/">Database</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/Troubleshooting/">Troubleshooting</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/troubleshooting/">troubleshooting</a></span></div><div class="content">CRS-1714 Unable to discover any voting filesAPPLIES TO:
Operation System - Oracle Linux Server 7.9Oracle Database - Enterprise Edition - Version 11.2.0.4.0Oracle Grid Infrastructure - Version 11.2.0.4.0

SYMPTOMS操作系统重启后，crs 无法正常启动
[grid@rac1 ~]$ crsctl stat res -t
CRS-4535: Cannot communicate with Cluster Ready Services
CRS-4000: Command Status failed, or completed with errors.

查看 /u01/app/11.2.0/grid/log/rac1/alertrac1.log 日志，出现无法识别到 votedisk 报错
[cssd(3348)]CRS-1714:Unable to discover any voti ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/53153380.html" title="CRS-4124 Oracle High Availability Services startup failed">CRS-4124 Oracle High Availability Services startup failed</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-20T14:00:00.000Z" title="发表于 2023-05-20 22:00:00">2023-05-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Database/">Database</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/Troubleshooting/">Troubleshooting</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/troubleshooting/">troubleshooting</a></span></div><div class="content">CRS-4124 Oracle High Availability Services startup failedAPPLIES TO:
Operation System - Oracle Linux Server 7.9 &#x2F; Linux 7Oracle Database - Enterprise Edition - Version 11.2.0.3.0 - 11.2.0.4.0Oracle Grid Infrastructure - Version 11.2.2.0 - 11.2.0.4.0

SYMPTOMS安装 GI 软件，执行 root.sh 时报错：
CRS-4124: Oracle High Availability Services startup failed.
CRS-4000: Command Start failed, or completed with errors.
ohasd failed to start: Inappropriate ioctl for device
ohasd failed to start at /oracle/app/pr ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/43622e5f.html" title="Installation Errors for Oracle 19.3 RAC on RHEL 8.7">Installation Errors for Oracle 19.3 RAC on RHEL 8.7</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-20T14:00:00.000Z" title="发表于 2023-05-20 22:00:00">2023-05-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Database/">Database</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Database/Oracle/Troubleshooting/">Troubleshooting</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/troubleshooting/">troubleshooting</a></span></div><div class="content">Installation Errors for Oracle 19.3 RAC on RHEL 8.7APPLIES TO:
Operation System - RHEL 8.7Oracle Database - Enterprise Edition - Version 19.3.0.0.0 RAC with 3 nodesOracle Grid Infrastructure - Version 19.3.0.0.0

Symptoms执行 GI 软件 OUI$GRID_HOME/gridSetup.sh和 Oracle 数据库软件 OUI$ORACLE_HOME/runInstaller时，出现如下错误：
[WARNING] [INS-08101] Unexpected error while executing the action at state: ‘supportedOSCheck’.
Workaround参考 Requirements for Installing Oracle Database&#x2F;Client 19c on OL8 or RHEL8 64-bit ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/blog/page/10/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/10/#content-inner">10</a><span class="page-number current">11</span><a class="page-number" href="/blog/page/12/#content-inner">12</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/14/#content-inner">14</a><a class="extend next" rel="next" href="/blog/page/12/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/blog/img/avatar.jpg" onerror="this.onerror=null;this.src='/blog/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Sakura Yumeno</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/blog/archives/"><div class="headline">文章</div><div class="length-num">133</div></a><a href="/blog/tags/"><div class="headline">标签</div><div class="length-num">71</div></a><a href="/blog/categories/"><div class="headline">分类</div><div class="length-num">33</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/posts/93568fe7.html" title="ORA-15274 Not enough failgroups (3) to create voting files">ORA-15274 Not enough failgroups (3) to create voting files</a><time datetime="2023-06-06T14:00:00.000Z" title="发表于 2023-06-06 22:00:00">2023-06-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/posts/39334fc0.html" title="Create ASM DiskGroup">Create ASM DiskGroup</a><time datetime="2023-06-06T11:30:00.000Z" title="发表于 2023-06-06 19:30:00">2023-06-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/posts/c8fcf40e.html" title="Excution rootcrs.pl fails">Excution rootcrs.pl fails</a><time datetime="2023-06-06T06:00:00.000Z" title="发表于 2023-06-06 14:00:00">2023-06-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/posts/6a9e00b5.html" title="deleting-oracle-19c-rac-from-nodes-on-linux">deleting-oracle-19c-rac-from-nodes-on-linux</a><time datetime="2023-06-04T05:15:46.000Z" title="发表于 2023-06-04 13:15:46">2023-06-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/posts/db2e84da.html" title="Exadata Cell Virtual Machine">Exadata Cell Virtual Machine</a><time datetime="2023-06-01T06:00:00.000Z" title="发表于 2023-06-01 14:00:00">2023-06-01</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/blog/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Database/"><span class="card-category-list-name">Database</span><span class="card-category-list-count">83</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Database/MySQL/"><span class="card-category-list-name">MySQL</span><span class="card-category-list-count">3</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Database/MySQL/Installation/"><span class="card-category-list-name">Installation</span><span class="card-category-list-count">3</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Database/Oracle/"><span class="card-category-list-name">Oracle</span><span class="card-category-list-count">76</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Database/Oracle/ASM/"><span class="card-category-list-name">ASM</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Database/Oracle/Configuration/"><span class="card-category-list-name">Configuration</span><span class="card-category-list-count">9</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Database/Oracle/DataGuard/"><span class="card-category-list-name">DataGuard</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Database/Oracle/Exadata/"><span class="card-category-list-name">Exadata</span><span class="card-category-list-count">3</span></a></li></ul></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/blog/tags/imp/" style="font-size: 1.1em; color: #999">imp</a> <a href="/blog/tags/restore/" style="font-size: 1.1em; color: #999">restore</a> <a href="/blog/tags/pacemaker/" style="font-size: 1.3em; color: #99a1ac">pacemaker</a> <a href="/blog/tags/upgrade/" style="font-size: 1.1em; color: #999">upgrade</a> <a href="/blog/tags/xfs/" style="font-size: 1.1em; color: #999">xfs</a> <a href="/blog/tags/precheck/" style="font-size: 1.1em; color: #999">precheck</a> <a href="/blog/tags/table/" style="font-size: 1.1em; color: #999">table</a> <a href="/blog/tags/exp/" style="font-size: 1.1em; color: #999">exp</a> <a href="/blog/tags/image/" style="font-size: 1.17em; color: #999c9f">image</a> <a href="/blog/tags/rman/" style="font-size: 1.3em; color: #99a1ac">rman</a> <a href="/blog/tags/index/" style="font-size: 1.1em; color: #999">index</a> <a href="/blog/tags/shell/" style="font-size: 1.37em; color: #99a4b2">shell</a> <a href="/blog/tags/iscsi/" style="font-size: 1.1em; color: #999">iscsi</a> <a href="/blog/tags/backup/" style="font-size: 1.1em; color: #999">backup</a> <a href="/blog/tags/swap/" style="font-size: 1.1em; color: #999">swap</a> <a href="/blog/tags/qemu/" style="font-size: 1.1em; color: #999">qemu</a> <a href="/blog/tags/install/" style="font-size: 1.43em; color: #99a6b9">install</a> <a href="/blog/tags/endian/" style="font-size: 1.1em; color: #999">endian</a> <a href="/blog/tags/optimization/" style="font-size: 1.17em; color: #999c9f">optimization</a> <a href="/blog/tags/oswatcher/" style="font-size: 1.1em; color: #999">oswatcher</a> <a href="/blog/tags/THP/" style="font-size: 1.1em; color: #999">THP</a> <a href="/blog/tags/about/" style="font-size: 1.1em; color: #999">about</a> <a href="/blog/tags/config/" style="font-size: 1.23em; color: #999ea6">config</a> <a href="/blog/tags/xtts/" style="font-size: 1.3em; color: #99a1ac">xtts</a> <a href="/blog/tags/powercli/" style="font-size: 1.1em; color: #999">powercli</a> <a href="/blog/tags/cmd/" style="font-size: 1.1em; color: #999">cmd</a> <a href="/blog/tags/share/" style="font-size: 1.1em; color: #999">share</a> <a href="/blog/tags/architecture/" style="font-size: 1.1em; color: #999">architecture</a> <a href="/blog/tags/ocr/" style="font-size: 1.1em; color: #999">ocr</a> <a href="/blog/tags/systemd/" style="font-size: 1.17em; color: #999c9f">systemd</a> <a href="/blog/tags/asmlib/" style="font-size: 1.1em; color: #999">asmlib</a> <a href="/blog/tags/password/" style="font-size: 1.3em; color: #99a1ac">password</a> <a href="/blog/tags/prerequisites/" style="font-size: 1.1em; color: #999">prerequisites</a> <a href="/blog/tags/patch/" style="font-size: 1.5em; color: #99a9bf">patch</a> <a href="/blog/tags/duplication/" style="font-size: 1.1em; color: #999">duplication</a> <a href="/blog/tags/ref/" style="font-size: 1.17em; color: #999c9f">ref</a> <a href="/blog/tags/ilom/" style="font-size: 1.1em; color: #999">ilom</a> <a href="/blog/tags/maintenance/" style="font-size: 1.1em; color: #999">maintenance</a> <a href="/blog/tags/grub2/" style="font-size: 1.1em; color: #999">grub2</a> <a href="/blog/tags/exadata/" style="font-size: 1.23em; color: #999ea6">exadata</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/blog/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/blog/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><span class="card-archive-list-count">128</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">133</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-06-06T15:59:29.659Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Sakura Yumeno</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/blog/js/utils.js"></script><script src="/blog/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (false) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  getScript('https://sdk.jinrishici.com/v2/browser/jinrishici.js').then(() => {
    jinrishici.load(result =>{
      if (false) {
        const sub = []
        const content = result.data.content
        sub.unshift(content)
        typedJSFn.init(sub)
      } else {
        document.getElementById('subtitle').textContent = result.data.content
      }
    })
  })
}
typedJSFn.run(subtitleType)
</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/blog/js/search/local-search.js"></script></div></div></body></html>