<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Hexo</title><meta name="author" content="Sakura Yumeno"><meta name="copyright" content="Sakura Yumeno"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://sakurayumeno.github.io/blog/page/7/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://sakurayumeno.github.io/blog/img/avatar.jpg">
<meta property="article:author" content="Sakura Yumeno">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://sakurayumeno.github.io/blog/img/avatar.jpg"><link rel="shortcut icon" href="/blog/img/favicon.ico"><link rel="canonical" href="https://sakurayumeno.github.io/blog/page/7/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/blog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/blog/',
  algolia: undefined,
  localSearch: {"path":"/blog/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Hexo',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-05-14 00:38:40'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/blog/css/custom.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = 'hidden';
    document.getElementById('loading-box').classList.remove("loaded")
  }
}

preloader.initLoading()
window.addEventListener('load',()=> { preloader.endLoading() })

if (false) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/blog/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/blog/archives/"><div class="headline">文章</div><div class="length-num">115</div></a><a href="/blog/tags/"><div class="headline">标签</div><div class="length-num">67</div></a><a href="/blog/categories/"><div class="headline">分类</div><div class="length-num">29</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/blog/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/blog/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/blog/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/blog/img/background.jpg')"><nav id="nav"><span id="blog-info"><a href="/blog/" title="Hexo"><span class="site-name">Hexo</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/blog/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/blog/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/blog/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Hexo</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/41b24805.html" title="Index">Index</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-13T16:37:56.154Z" title="发表于 2023-05-14 00:37:56">2023-05-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Oracle/Configuration/">Configuration</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/index/">index</a></span></div><div class="content">
访问索引列的数据一般需要 3 次 IO，Root-Branch-Leaf。访问索引列外的数据需要 4 次 IO，Root-Branch-Leaf- 回表 (TABLE ACCESS BY INDEX ROWID)。 索引对 DML 操作的影响，INSERT &gt; DELETE &gt; UPDATE
[创建索引会引发排序及全表索，排序会非常消耗 CPU 性能，全表锁会阻止 DML 操作]{.red}
索引的三大特点

索引树的高度一般比较低。
索引由索引列存储的值及 ROWID 组成。
索引本身是有序的。

分区表索引

分为全局索引和分区索引。
分区索引，要有使用分区字段条件的场景，否则建议使用全局索引。

count(*)优化
123456--NULL 和 NOT NULL 不等价，排除 NULL 值，执行计划由 TABLE ACCESS FULL 变为 INDEX FAST FULL SCANselect count(*) from t where id is not null;-- 或将列设置 NOT NULL，执行计划为 INDEX FAST FULL SCANalte ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/6df4f1a1.html" title="Automatic Optimizer Statistics Collection">Automatic Optimizer Statistics Collection</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-13T16:37:56.091Z" title="发表于 2023-05-14 00:37:56">2023-05-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Oracle/Configuration/">Configuration</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/statistics/">statistics</a></span></div><div class="content"> 概述    在 Oracle 10g 之前并没有自动收集统计信息的机制，从 Oracle 10g 开始引入了自动收集统计信息的功能，这个功能在 Oracle 10g 中被称为自动统计信息收集（Automatic Statistics Gathering）   在 Oracle 11g 中被称为自动优化器统计信息收集（Automatic Optimizer Statistics Collection）。自动统计信息收集作业能够每天收集普通对象和数据字典的统计信息，但不会收集 X$ 系列表的内部对象统计信息。
  Oracle 的初始化参数 STATISTICS_LEVEL 控制收集统计信息的级别，有三个参数值：  1、 BASIC：收集基本的统计信息   2、 TYPICAL：收集大部分统计信息（数据库的默认设置）  3、 ALL：收集全部统计信息   当使用 Oracle 自动收集统计信息时，必须要确保 Oracle 的参数 STATISTICS_LEVEL 的值为 TYPICAL 或者 ALL。默认值为 TYPICAL，该值可以确保数据库自我管理功能所需求的所有主要统计信息的正确收 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/35cf2db4.html" title="ArchiveLog Mode">ArchiveLog Mode</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-13T16:37:56.049Z" title="发表于 2023-05-14 00:37:56">2023-05-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Oracle/Configuration/">Configuration</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/archivelog/">archivelog</a></span></div><div class="content">Enabling ArchiveLog ModeSingle InstanceOracle 10g and Latest
command:("SQL>":1-6)123456alter system set log_archive_dest_1=&#x27;location=/archivelog&#x27; scope=spfile;shutdown immediatestartup mountalter database archivelog;alter database open;alter system switch logfile;  -- 切换归档 

Real Application ClustersOracle 10gR2 and Latest
command:("SQL>":1,4-5,7||"[grid@rac1 ~]$":2-3,6)1234567alter system set log_archive_dest_1=&#x27;location=+ARCHDG&#x27; sid=&#x27;*&#x27; scope=spfile;srvctl stop da ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/f173f122.html" title="UDEV SCSI Rules">UDEV SCSI Rules</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-13T16:37:55.998Z" title="发表于 2023-05-14 00:37:55">2023-05-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Oracle/ASM/">ASM</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/udev/">udev</a></span></div><div class="content">UDEV SCSI Rules Configuration In Oracle Linux 5-8For Oracle Automatic Storage Manager (ASM) to use disks, it needs to be able to identify the devices consistently and for them to have the correct ownership and permissions. In Linux you can use ASMLib to manage these tasks, but it is seen as an additional layer of complexity and has never really gained any popularity. Instead, many people use the Linux device manager “udev” to perform these tasks. This article presents a brief overview of setting ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/463891ca.html" title="Swap Voting Disks Across Storage">Swap Voting Disks Across Storage</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-13T16:37:55.945Z" title="发表于 2023-05-14 00:37:55">2023-05-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Oracle/ASM/">ASM</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/voting/">voting</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/blog/tags/swap/">swap</a></span></div><div class="content">Swap Voting Disks Across Storage
Query css votedisk
123456crsctl query css votedisk;##  STATE    File Universal Id                File Name Disk group--  -----    -----------------                --------- ---------1. ONLINE   73e1c48069d64fefbfc44cd8e65107d8 (ORCL:OCR_VOTE1) [OCR_VOTE]Located 1 voting disk(s).

Query the fail groups
1234567891011121314col path for a20col state for a10col failgroup for a15col name for a15select dg.name,dg.state,dg.type,d.disk_number,d.path,d.mount_status,d.failg ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/c9d09ad6.html" title="Replace OCR and Voting disks">Replace OCR and Voting disks</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-13T16:37:55.889Z" title="发表于 2023-05-14 00:37:55">2023-05-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Oracle/ASM/">ASM</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/ocr/">ocr</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/blog/tags/voting/">voting</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/blog/tags/replace/">replace</a></span></div><div class="content">OCR
Perform ocr backup
123456[root@rac1 bin]# ./ocrconfig -manualbackuprac2     2022/05/06 09:21:54     /u01/app/11.2.0/grid/cdata/rac-cluster/backup_20220506_092154.ocr[root@rac1 bin]# ./ocrconfig -showbackupPROT-24: Auto backups for the Oracle Cluster Registry are not availablerac2     2022/05/06 09:21:54     /u01/app/11.2.0/grid/cdata/rac-cluster/backup_20220506_092154.ocr

Perform ocrcheck
123456789101112131415161718192021[root@rac1 bin]# ./ocrcheckStatus of Oracle Cluster Registry is as fol ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/28a7074e.html" title="PreCheck">PreCheck</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-13T16:37:55.849Z" title="发表于 2023-05-14 00:37:55">2023-05-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Oracle/ASM/">ASM</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/precheck/">precheck</a></span></div><div class="content">PreCheck
System info
1234567891011# 系统版本 uname -acat /etc/os-release# ASM 磁盘创建方式：udev or asmlib# udev:cat /etc/udev/rules.d/99-oracle-asmdevices.rules# asmlib:cat /etc/sysconfig/oracleasm/etc/init.d/oracleasm listdisks

GI info
123456# grid 用户查询，群集资源状态，版本，ocr 信息，votedisk 信息 crsctl stat res -tasmcmd lsdgocrcheckcrsctl query crs activeversioncrsctl query css votedisk

ASM DiskGroup info
123456789101112131415161718192021222324-- 数据库版本 select * from v$version;-- 磁盘组信息 set lines 200 pages 100select d ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/1eb5b3ed.html" title="Overview">Overview</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-13T16:37:55.789Z" title="发表于 2023-05-14 00:37:55">2023-05-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Oracle/ASM/">ASM</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/overview/">overview</a></span></div><div class="content">Change ASM DiskGroup compatibility12alter diskgroup dg2 set attribute &#x27;compatible.asm&#x27;=&#x27;11.1&#x27;;alter diskgroup dg2 set attribute &#x27;compatible.rdbms&#x27;=&#x27;11.1&#x27;;

REDUNDANCY指的是一个 diskgroup 内同一份数据的保护级别，通过 failgroup 的冗余来保证数据的冗余，有三个取值，external，normal，high。
FAILGROUP一个或多个磁盘构成的整体，它是磁盘组的一部分，Oracle 保证每一个 extent 和它对应的镜像不会保存在相同的 failure group 中，从而确保了当 Failure group 中的某一个或多个磁盘，甚至整个 failure group 全部丢失时也不会有数据丢失，并实现了数据的镜像。如果在创建磁盘组时指定了 failure group，数据就以 AU 为单位在 failure group  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/d7934161.html" title="Migrate ASM Diskgroup to Another SAN">Migrate ASM Diskgroup to Another SAN</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-13T16:37:55.721Z" title="发表于 2023-05-14 00:37:55">2023-05-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Oracle/ASM/">ASM</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/migrate/">migrate</a></span></div><div class="content">Migrate ASM Diskgroup to Another SAN
if necessary, modify asm_diskstring
123alter system set asm_diskstring = &#x27;/dev/emcpowerc*&#x27;,&#x27;/dev/emcpowerh*&#x27; scope=both;select path from v$asm_disk;

query the fail groups
1234567891011121314col path for a20col state for a10col failgroup for a15col name for a15select dg.name,dg.state,dg.type,d.disk_number,d.path,d.mount_status,d.failgroup,d.name,d.state from v$asm_diskgroup dg, v$asm_disk dwhere dg.group_number=d.group_number and dg.name=& ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/posts/a918773e.html" title="Maintenance">Maintenance</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-13T16:37:55.663Z" title="发表于 2023-05-14 00:37:55">2023-05-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Oracle/">Oracle</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/blog/categories/Oracle/ASM/">ASM</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/blog/tags/maintenance/">maintenance</a></span></div><div class="content">Setting Disk String1alter system set asm_diskstring=&#x27;ORCL:*&#x27; scope=both sid=&#x27;*&#x27;;

Creating Disk Groups
123456789101112131415CREATE DISKGROUP data NORMAL REDUNDANCY  FAILGROUP controller1 DISK    &#x27;/devices/diska1&#x27; NAME diska1,    &#x27;/devices/diska2&#x27; NAME diska2,    &#x27;/devices/diska3&#x27; NAME diska3,    &#x27;/devices/diska4&#x27; NAME diska4  FAILGROUP controller2 DISK    &#x27;/devices/diskb1&#x27; NAME diskb1,    &#x27;/devices/diskb2&#x27; NAME diskb ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/blog/page/6/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/6/#content-inner">6</a><span class="page-number current">7</span><a class="page-number" href="/blog/page/8/#content-inner">8</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/12/#content-inner">12</a><a class="extend next" rel="next" href="/blog/page/8/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/blog/img/avatar.jpg" onerror="this.onerror=null;this.src='/blog/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Sakura Yumeno</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/blog/archives/"><div class="headline">文章</div><div class="length-num">115</div></a><a href="/blog/tags/"><div class="headline">标签</div><div class="length-num">67</div></a><a href="/blog/categories/"><div class="headline">分类</div><div class="length-num">29</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/posts/784ee20b.html" title="WSL">WSL</a><time datetime="2023-05-13T16:37:59.538Z" title="发表于 2023-05-14 00:37:59">2023-05-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/posts/91e0e9b9.html" title="Setting VM Disk UUID">Setting VM Disk UUID</a><time datetime="2023-05-13T16:37:59.476Z" title="发表于 2023-05-14 00:37:59">2023-05-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/posts/a55fe6db.html" title="Setting Shared Disks for Oracle RAC">Setting Shared Disks for Oracle RAC</a><time datetime="2023-05-13T16:37:59.423Z" title="发表于 2023-05-14 00:37:59">2023-05-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/blog/posts/c343108e.html" title="Resetting root password in VCSA"><img src="https://img.timelessq.com/images/2022/07/26/2f015bf5c14d8b24eba440ef80422b8d.jpg" onerror="this.onerror=null;this.src='/blog/img/404.jpg'" alt="Resetting root password in VCSA"/></a><div class="content"><a class="title" href="/blog/posts/c343108e.html" title="Resetting root password in VCSA">Resetting root password in VCSA</a><time datetime="2023-05-13T16:37:59.325Z" title="发表于 2023-05-14 00:37:59">2023-05-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/posts/22af3e09.html" title="Replace harddisk for rootvg">Replace harddisk for rootvg</a><time datetime="2023-05-13T16:37:59.267Z" title="发表于 2023-05-14 00:37:59">2023-05-14</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/blog/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Docker/"><span class="card-category-list-name">Docker</span><span class="card-category-list-count">5</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Docker/Installation/"><span class="card-category-list-name">Installation</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Linux/"><span class="card-category-list-name">Linux</span><span class="card-category-list-count">27</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Linux/Ansible/"><span class="card-category-list-name">Ansible</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Linux/Backup/"><span class="card-category-list-name">Backup</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Linux/Configuration/"><span class="card-category-list-name">Configuration</span><span class="card-category-list-count">11</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Linux/PXE/"><span class="card-category-list-name">PXE</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Linux/Pacemaker/"><span class="card-category-list-name">Pacemaker</span><span class="card-category-list-count">4</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/blog/tags/prerequisites/" style="font-size: 1.1em; color: #999">prerequisites</a> <a href="/blog/tags/udev/" style="font-size: 1.1em; color: #999">udev</a> <a href="/blog/tags/patch/" style="font-size: 1.43em; color: #99a6b9">patch</a> <a href="/blog/tags/overview/" style="font-size: 1.17em; color: #999c9f">overview</a> <a href="/blog/tags/config/" style="font-size: 1.23em; color: #999ea6">config</a> <a href="/blog/tags/replace/" style="font-size: 1.1em; color: #999">replace</a> <a href="/blog/tags/datapump/" style="font-size: 1.1em; color: #999">datapump</a> <a href="/blog/tags/rootvg/" style="font-size: 1.1em; color: #999">rootvg</a> <a href="/blog/tags/wsl/" style="font-size: 1.1em; color: #999">wsl</a> <a href="/blog/tags/systemd/" style="font-size: 1.17em; color: #999c9f">systemd</a> <a href="/blog/tags/troubleshooting/" style="font-size: 1.5em; color: #99a9bf">troubleshooting</a> <a href="/blog/tags/disk/" style="font-size: 1.17em; color: #999c9f">disk</a> <a href="/blog/tags/asmlib/" style="font-size: 1.1em; color: #999">asmlib</a> <a href="/blog/tags/table/" style="font-size: 1.1em; color: #999">table</a> <a href="/blog/tags/rear/" style="font-size: 1.1em; color: #999">rear</a> <a href="/blog/tags/backup/" style="font-size: 1.1em; color: #999">backup</a> <a href="/blog/tags/optimization/" style="font-size: 1.17em; color: #999c9f">optimization</a> <a href="/blog/tags/upgrade/" style="font-size: 1.1em; color: #999">upgrade</a> <a href="/blog/tags/install/" style="font-size: 1.43em; color: #99a6b9">install</a> <a href="/blog/tags/maintenance/" style="font-size: 1.1em; color: #999">maintenance</a> <a href="/blog/tags/pxe/" style="font-size: 1.17em; color: #999c9f">pxe</a> <a href="/blog/tags/sanswitch/" style="font-size: 1.17em; color: #999c9f">sanswitch</a> <a href="/blog/tags/kickstart/" style="font-size: 1.1em; color: #999">kickstart</a> <a href="/blog/tags/hugepages/" style="font-size: 1.1em; color: #999">hugepages</a> <a href="/blog/tags/pacemaker/" style="font-size: 1.3em; color: #99a1ac">pacemaker</a> <a href="/blog/tags/swap/" style="font-size: 1.1em; color: #999">swap</a> <a href="/blog/tags/cmd/" style="font-size: 1.1em; color: #999">cmd</a> <a href="/blog/tags/shell/" style="font-size: 1.37em; color: #99a4b2">shell</a> <a href="/blog/tags/THP/" style="font-size: 1.1em; color: #999">THP</a> <a href="/blog/tags/imp/" style="font-size: 1.1em; color: #999">imp</a> <a href="/blog/tags/endian/" style="font-size: 1.1em; color: #999">endian</a> <a href="/blog/tags/bbed/" style="font-size: 1.1em; color: #999">bbed</a> <a href="/blog/tags/osi/" style="font-size: 1.1em; color: #999">osi</a> <a href="/blog/tags/share/" style="font-size: 1.1em; color: #999">share</a> <a href="/blog/tags/voting/" style="font-size: 1.17em; color: #999c9f">voting</a> <a href="/blog/tags/iscsi/" style="font-size: 1.1em; color: #999">iscsi</a> <a href="/blog/tags/precheck/" style="font-size: 1.1em; color: #999">precheck</a> <a href="/blog/tags/xtts/" style="font-size: 1.3em; color: #99a1ac">xtts</a> <a href="/blog/tags/yum/" style="font-size: 1.1em; color: #999">yum</a> <a href="/blog/tags/lvm/" style="font-size: 1.1em; color: #999">lvm</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/blog/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><span class="card-archive-list-count">115</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">115</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-05-13T16:38:39.177Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Sakura Yumeno</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/blog/js/utils.js"></script><script src="/blog/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (false) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  getScript('https://sdk.jinrishici.com/v2/browser/jinrishici.js').then(() => {
    jinrishici.load(result =>{
      if (false) {
        const sub = []
        const content = result.data.content
        sub.unshift(content)
        typedJSFn.init(sub)
      } else {
        document.getElementById('subtitle').innerHTML = result.data.content
      }
    })
  })
}
typedJSFn.run(subtitleType)
</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/blog/js/search/local-search.js"></script></div></div></body></html>